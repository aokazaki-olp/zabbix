監視体制見直しに関する資料

📌 検討の目的

コストの最小化

有償サービス（Mackerel）の利用を最小限に抑え、Zabbixベースの監視へ集約

重複監視の排除により無駄なライセンスコスト・運用工数を削減

責任の明確化

通知チャネルと担当者の分離

Zabbix：社内用監視 / Mackerel：監視会社向け

アラートの優先度に応じた通知先の切り分け

運用の形骸化防止

Chat通知に対する対応状況トラッキング

スプレッドシート連携による共有と定例報告対応

静観すべき軽微な障害と即応すべき重大障害の分離

🔧 現行体制と問題点

Mackerelの通知は全社にメール配信 → ノイズ化、誰も見ない

Zabbix通知は運用担当以外の関与が曖昧

Chat通知と実際の対応状況の乖離

通知の重複、過剰、責任者不明のアラート放置

✅ 改善後の基本方針

Mackerel（有償）

商用サービスの本番環境のみを対象

通知先は監視会社のみに限定

社内はMackerelの通知メールを見ない前提とする

例外：MackerelでZabbix自身を監視している分についてはZabbix運用担当が確認

Zabbix（自社運用）

AWS上の全リソース（EC2/ECS/RDS等）を対象に集約

通知先はGoogle Chat＋メール

通知レベルで通知先を分離：

CRITICAL以上：Chat通知（+ スプレッドシート吸い上げ）

AVERAGE以下：メールのみ or UIでの静観判断

CloudWatch

AWSメトリクス取得用途

可能な限りZabbixから収集、必要に応じて直接通知も使用

📊 通知方針の要点

通知元

誰が見るか

通知手段

備考

Zabbix（CRITICAL以上）

社内全体 / 担当者

Google Chat

スプレッドシートに記録、定例会に活用

Zabbix（軽微な障害）

各担当者のみ

メール通知

対応不要時は静観判断もOK

Mackerel（Zabbix監視）

Zabbix運用担当

メール通知

Zabbix障害に備え確認対象とする

Mackerel（通常）

監視会社のみ

メール通知

社内では確認しない前提

監視会社

社内オンコール担当

メール通知

CRITICAL時の緊急連絡ライン

🧠 将来の改善ポイント（優先度中）

Chat通知に対して"対応中"リアクションがない場合はリマインド

Zabbix API経由で障害Resolved時にChatスレッドへ"解決済み"投稿

定例資料連携、Backlog課題自動作成（GAS/スプレッドシート）

🔚 総括

本改善により、

コスト圧縮（Mackerelのホスト数縮小）

責任明確化（Zabbix / Mackerel / 監視会社の三分立）

対応漏れの防止（Chat連携・定例資料）

を実現。

運用における“誰が・何を・いつ”を明確にし、障害対応の精度と効率を両立させる体制を目指す。

